<% include ../partials/header %>

<h1 id="courseColorHex" style="display: none"><%= course.color %></h1>
<section>
    <div class="form-wrapper">
        <form action="/courses/<%= course._id %>/delete?_method=DELETE" method="POST">
            <button class="circle-btn delete-btn">
                <i class="fas fa-trash-alt"></i>
            </button>
        </form>
        <header style="padding-top: 0;" class='form-head'>
            <h2 >Edit Course!</h2>
        </header>
        <form action="/courses/<%= course._id %>/edit?_method=PUT" method="POST">
            
            <div class="form-row">
                <div class="left-form-box">
                    <label for="name">Course Name: </label>
                </div>
                <div class="right-form-box">
                    <input class="under-line-input" required type="text" name="course[name]" placeholder="Course name" value="<%= course.name %>" required>
                </div>
            </div>
            
            <div class="form-row">
                <div class="left-form-box">
                    <label for="color">Choose a Color: </label>
                </div>
                <div class="right-form-box">

                </div>
            </div>
            <div class="form-row">
                <div class="slidecontainer">
                    <input style="display: none;" id="courseColorInput" type="text" name="course[color]" placeholder="Course color">
                    <input oninput="UpdateColor(this)" type="range" min="120" max="255" value="171" class="slider" id="redSlider">
                    <input oninput="UpdateColor(this)" type="range" min="120" max="255" value="250" class="slider" id="greenSlider">
                    <input oninput="UpdateColor(this)" type="range" min="120" max="255" value="230" class="slider" id="blueSlider">
                </div>
            </div>
            <div class="row">
                <p class="help-text">
                    Drag the color sliders to the left or right to create a custom color!
                </p>
            </div>
            <div class="row">
                <div class="<%= course.color %>" id="colorViewer" style="background-color: <%= course.color %>;"></div>
            </div>

            <button class="submit-btn" type="submit">Update!</button>
        </form>
    </div>
</section>


<script>
    var courseColorHexCode = document.getElementById("courseColorHex").textContent.trim()
    document.body.style.background = "linear-gradient(to right," + courseColorHexCode + ", " + courseColorHexCode + ", " + courseColorHexCode + ")";

</script>

<script src="/scripts/ChoosingOldColor.js"></script>

<% include ../partials/footer %>